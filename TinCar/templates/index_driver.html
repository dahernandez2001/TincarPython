{% extends 'layout.html' %}

{% block content %}
<!-- Navbar dentro del contenido -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4 py-3 border-bottom border-secondary">
  <div class="container-fluid">
  <a class="navbar-brand d-flex align-items-center" href="{{ url_for('home') }}">
      <img src="{{ url_for('static', filename='img/logo.png') }}" alt="logo" width="45" class="me-2">
      <span class="fs-4 fw-bold text-warning">TinCar</span>
    </a>
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav">
  <li class="nav-item"><a class="nav-link active" href="{{ url_for('home') }}">Inicio</a></li>
  <li class="nav-item"><a class="nav-link" href="{{ url_for('home') }}">Arrendar</a></li>
  <li class="nav-item"><a class="nav-link" href="{{ url_for('home') }}">Configuración</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="container py-5 text-light">

  <!-- Bienvenida -->
  <div class="text-center mb-4">
    <h1 class="fw-bold" style="color: #FFB300;">Bienvenido, {{ session.get('user_name') or session.get('name') or 'Usuario' }}</h1>
    <h5 class="text-secondary">
      Estás registrado como <span class="fw-semibold text-info">Conductor</span>.
    </h5>
  </div>

  <!-- Tarjeta principal -->
  <div class="card bg-black text-light p-4 rounded-4 shadow-lg border border-secondary mx-auto" style="max-width: 900px;">
    <div class="d-flex justify-content-between align-items-center flex-wrap mb-4">
      <div>
        <h2 class="fw-bold">Modo conductor</h2>
        <p class="text-secondary">({{ session.get('user_name') or session.get('name') or 'nombre de usuario' }})</p>
      </div>

      <div class="d-flex align-items-center mt-3 mt-md-0">
        <div class="info-box text-center me-4">
          <div class="bg-secondary bg-opacity-25 p-3 rounded-4">
            <p class="mb-1">Calificación</p>
            <p class="fs-4 mb-0 text-warning">⭐ 4.8</p>
            <hr class="text-secondary my-2">
            <p class="mb-1">Reservas</p>
            <p class="fs-4 mb-0">180</p>
          </div>
        </div>
        <div class="text-center">
          <div class="profile-circle mx-auto mb-2"></div>
          <a href="{{ url_for('dashboard') }}" class="btn btn-warning fw-bold rounded-3 px-4">Perfil</a>
        </div>
      </div>
    </div>

    <!-- Mapa -->
    <div class="map-container">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.163564203566!2d-122.42043218468195!3d37.76520697975956!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c1e6a0a0f%3A0x6a96e80f4016e38e!2sBar%20Tartine!5e0!3m2!1ses!2sco!4v1698703456789!5m2!1ses!2sco"
        width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy">
      </iframe>
    </div>

    <!-- Botón acción -->
    <div class="mt-4 text-center">
  <a href="{{ url_for('dashboard') }}" class="btn btn-warning px-4 py-2 fw-semibold">Ver parqueaderos disponibles</a>
    </div>
  </div>

  <!-- Botón cerrar sesión -->
  <div class="mt-5 text-center">
    <a href="{{ url_for('logout') }}" class="btn btn-outline-light px-4 py-2">
      Cerrar sesión
    </a>
  </div>
</main>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/driver.js') }}"></script>
{% endblock %}
